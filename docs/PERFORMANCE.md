# 性能优化指南

## 📊 当前配置

### 视频参数
- **摄像头分辨率**: 1280x720 (720p)
- **摄像头帧率**: 30 FPS
- **流传输帧率**: 20 FPS
- **JPEG质量**: 85%

## 🚀 性能提升

### 1. 分辨率提升
- **从**: 640x480 (VGA)
- **到**: 1280x720 (720p)
- **提升**: 3倍像素数量，更清晰的画面

### 2. 帧率优化
- **摄像头**: 30 FPS（最大捕获速度）
- **传输**: 20 FPS（平衡流畅度和带宽）
- **优势**: 减少网络负载，保持流畅

### 3. 质量优化
- **JPEG质量**: 从80提升到85
- **编码**: 使用MJPEG格式
- **缓冲**: 最小化延迟

## ⚙️ 自定义配置

编辑 `config.py` 来调整性能参数：

```python
# 视频处理配置
FRAME_WIDTH = 1280      # 摄像头宽度
FRAME_HEIGHT = 720      # 摄像头高度
FPS = 30                # 摄像头帧率

# 视频流优化配置
STREAM_FPS = 20         # 流传输帧率（建议10-30）
STREAM_QUALITY = 85     # JPEG质量（建议70-95）
MAX_FRAME_WIDTH = 1280  # 最大传输宽度
MAX_FRAME_HEIGHT = 720  # 最大传输高度
```

## 📈 性能建议

### 高性能配置（需要好的网络和硬件）
```python
FRAME_WIDTH = 1920
FRAME_HEIGHT = 1080
STREAM_FPS = 30
STREAM_QUALITY = 90
```

### 平衡配置（推荐）
```python
FRAME_WIDTH = 1280
FRAME_HEIGHT = 720
STREAM_FPS = 20
STREAM_QUALITY = 85
```

### 低带宽配置
```python
FRAME_WIDTH = 640
FRAME_HEIGHT = 480
STREAM_FPS = 15
STREAM_QUALITY = 70
```

## 🔧 优化技巧

### 1. 网络优化
- 使用有线连接而不是WiFi
- 确保局域网带宽充足
- 关闭其他占用带宽的应用

### 2. 硬件优化
- 使用支持硬件加速的摄像头
- 确保CPU有足够性能处理YOLO检测
- 增加系统内存

### 3. 软件优化
- 降低YOLO检测频率（每N帧检测一次）
- 使用更小的YOLO模型（yolov8n）
- 调整JPEG质量平衡清晰度和性能

## 📊 性能监控

查看实时性能指标：
- **帧率**: 界面右上角显示
- **对象数量**: 检测到的物体数量
- **延迟**: 观察视频流的实时性

## ⚠️ 注意事项

1. **分辨率限制**: 某些摄像头可能不支持1280x720，会自动降级
2. **CPU负载**: 高分辨率会增加YOLO检测时间
3. **带宽需求**: 720p @ 20fps 约需要 2-4 Mbps
4. **内存使用**: 高分辨率会增加内存占用

## 🎯 推荐配置

### 本地使用（同一台电脑）
- 1920x1080 @ 30fps, 质量90

### 局域网使用
- 1280x720 @ 20fps, 质量85（当前配置）

### 远程访问
- 640x480 @ 15fps, 质量70